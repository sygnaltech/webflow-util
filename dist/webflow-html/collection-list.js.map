{
  "version": 3,
  "sources": ["../../src/globals.ts", "../../src/webflow-html/collection-list.ts"],
  "sourcesContent": ["\n/**\n * SA5 Globals\n * \n */\n\nexport enum Sa5GlobalVar {\n\n    GLOBAL_ROUTE = 'sa5-route' \n\n}\n\nexport enum Sa5GlobalEvent {\n\n    EVENT_USER_CHANGED = 'userInfoChanged',\n    EVENT_DATASTORE_LOADED = 'datastoreLoaded',\n    EVENT_SLIDE_CHANGED = 'slideChanged', \n    EVENT_TAB_CHANGED = 'tabChanged', \n    EVENT_VIDEO_PLAYER_STATE_CHANGE = 'playerStateChange', \n    \n}\n\nexport enum Sa5ScriptType {\n\n    SCRIPT_TYPE_DATA_ITEM = 'wfu-data-item', \n    SCRIPT_TYPE_SA5_DATA_ITEM = 'sygnal/sa5-data', // 'sygnal/sa5-data-proto', \n\n}\n\nexport namespace Sa5Attribute {\n    export function getBracketed(attr: Sa5Attribute): string {\n        return `[${attr}]`;\n    }\n}\n\nexport enum Sa5Attribute {\n\n    // Core\n    ATTR_CORE_SCRIPT_INJECT = 'wfu-script-load', \n\n    // Video\n    ATTR_VIDEO = 'wfu-video',\n    ATTR_VIDEO_YOUTUBE_NOREL = 'wfu-youtube-norel', \n    ATTR_VIDEO_DATA_POSTER_URL = 'wfu-data-poster-url', \n\n    // Designer\n    ATTR_DESIGN = 'wfu-design',\n\n    // Elements \n    ATTR_ELEMENT_SLIDER = 'wfu-slider',\n        ATTR_ELEMENT_SLIDE_NAME = 'wfu-slide-name',\n    ATTR_ELEMENT_TABS = 'wfu-tabs',\n        ATTR_ELEMENT_TAB_NAME = 'wfu-tab-name',\n    ATTR_ELEMENT_BUTTON = 'wfu-button', \n        ATTR_BUTTON_ENABLED = 'wfu-button-enabled', \n        ATTR_BUTTON_DISABLED_CLASS = 'wfu-button-disabled-class',\n    ATTR_ELEMENT_DECK_TARGET = 'wfu-deck-target',\n        ATTR_ELEMENT_DECK_ACTION = 'wfu-deck-action',\n        ATTR_ELEMENT_DECK_ITEM = 'wfu-deck-action-item',\n    ATTR_ELEMENT_DROPDOWN = 'wfu-dropdown',\n        ATTR_ELEMENT_DROPDOWN_NAME = 'wfu-dropdown-name',\n        ATTR_ELEMENT_DROPDOWN_INIT = 'wfu-dropdown-init',\n        ATTR_ELEMENT_DROPDOWN_TYPE = 'wfu-dropdown-type',\n    \n\n    // Data\n    ATTR_DATA = 'wfu-data',\n    ATTR_DATA_TYPE = 'wfu-data-type',\n    ATTR_DATA_DSN = 'wfu-data-dsn',\n    ATTR_DATA_ITEM_ID = 'wfu-data-item-id',\n    \n    // Data-binding\n    ATTR_DATABIND = 'wfu-bind',\n    ATTR_DATABIND_CONTENT = 'wfu-bind-content',\n    ATTR_DATABIND_CONTEXT_DSN = 'wfu-bind-dsn',\n    ATTR_DATABIND_CONTEXT_ITEM_ID = 'wfu-bind-item-id',\n\n    // Pre-loaders\n    ATTR_PRELOAD = 'wfu-preload', \n\n    // Interactions\n    ATTR_IX_TRIGGER = 'wfu-ix-trigger',\n    ATTR_IX_ID = 'wfu-ix-id',\n\n    // Sort\n    ATTR_SORT = 'wfu-sort',\n    ATTR_SORT_DIR = 'wfu-sort-dir',\n    ATTR_SORT_TYPE = 'wfu-sort-type', \n    ATTR_SORT_KEY = 'wfu-sort-key', \n\n    // Filter\n    ATTR_FILTER = 'wfu-filter', // Deprecated\n    ATTR_FILTER_MATCH = 'wfu-filter-match',\n    ATTR_FILTER_EVAL = 'wfu-filter-eval',\n    ATTR_FILTER_FUNC = 'wfu-filter-func',\n\n    // Hiding & Suppression\n    ATTR_HIDE = 'wfu-hide',\n    ATTR_SUPPRESS = 'wfu-suppress',\n\n    // 404\n    ATTR_404_SEARCH = 'wfu-404-search',\n\n    // Forms\n    ATTR_FORM_HANDLER = 'wfu-form-handler',\n    ATTR_FORM_MESSAGE = 'wfu-form-message',\n    ATTR_FORM_IPINFO = 'wfu-form-ipinfo',\n\n    // Modals\n    ATTR_MODAL = 'wfu-modal', \n    ATTR_MODAL_TRIGGER = 'wfu-modal-trigger',\n    ATTR_MODAL_CLOSE = 'wfu-modal-close',\n    ATTR_MODAL_CLOSE_TYPE = 'wfu-modal-close-type',\n    ATTR_MODAL_SUPPRESS_DAYS = 'wfu-modal-suppress-days',\n\n    // Format\n    ATTR_FORMAT = 'wfu-format',\n    ATTR_FORMAT_DATE = 'wfu-format-date',\n    ATTR_FORMAT_HANDLER = 'wfu-format-handler', \n    ATTR_FORMAT_MODE = 'wfu-format-mode',\n    ATTR_FORMAT_SUFFIX = 'wfu-format-suffix',\n\n    // Countup\n    ATTR_COUNTUP = 'wfu-countup', \n    ATTR_COUNTUP_TRIGGER = 'wfu-countup-trigger',\n\n    // Demo\n    ATTR_DEMO_LINK = 'wfu-demo-link',\n\n    // Lightboxes\n    ATTR_LIGHTBOX_CAPTIONS = 'wfu-lightbox-captions',\n    ATTR_LIGHTBOX_GROUP = 'wfu-lightbox-group',\n\n    /**\n     * SA5 HTML\n     */\n\n    // Decode\n    ATTR_DECODE = 'wfu-decode',\n\n    // Limits\n    ATTR_LIMIT_MULTIPLE = 'wfu-limit-multiple',\n    ATTR_LIMIT_MULTIPLE_MIN = 'wfu-limit-multiple-min',\n\n    /**\n     * SA5 User Accounts\n     */\n\n    ATTR_SHOW_LOGGED_IN = 'wfu-show-logged-in',\n    ATTR_HIDE_LOGGED_IN = 'wfu-hide-logged-in',\n    ATTR_LOGIN_BUTTON = 'wfu-login-button',\n\n    /**\n     * SA5 Richtext\n     */\n\n    ATTR_RICHTEXT_LISTS = 'wfu-lists',\n    ATTR_RICHTEXT_LIST_THEME = 'wfu-list-theme',\n\n    /**\n     * SA5 URL\n     */\n\n    ATTR_URL_RELATIVE_LINKS = 'wfu-relative-links',\n    ATTR_URL_EXTERNAL_LINKS = 'wfu-external-links',\n\n    /**\n     * SA5 UI\n     */\n\n    // Accordion\n    ATTR_UI_ACCORDION = 'wfu-ui-accordion',\n\n    // Rating\n    ATTR_RATING = 'wfu-rating', \n\n    // Github GIST\n    ATTR_GIST = 'wfu-gist',\n    ATTR_GIST_COPY = 'wfu-gist-copy',\n\n    /**\n     * SA5 Layout \n     */\n\n    ATTR_LAYOUT = 'wfu-layout', \n    ATTR_LAYOUT_HANDLER = 'wfu-layout-handler',\n    ATTR_LAYOUT_TARGET = 'wfu-layout-target',\n    ATTR_LAYOUT_ZONE = 'wfu-layout-zone',\n\n}", "/*\n * webflow-html\n * Collection List\n * \n * Sygnal Technology Group\n * http://sygnal.com\n * \n */\n\n\nimport { Sa5Attribute } from '../globals';\nimport { Sa5Debug } from '../webflow-core/debug';\n\n\ninterface Config {\n//    handleBreakpointChange?: ((breakpointName: string, e: MediaQueryListEvent) => void) | null;\n}\n\n// Webflow breakpoints\n\n\nexport class Sa5CollectionList {\n    config: Config;\n    _element: HTMLElement; \n\n    constructor(elem: HTMLElement, config: Config = null) {\n        this.config = config;\n        this._element = elem;\n    }\n\n    init() {\n\n    }\n\n    sort(): void {\n        console.group(\"SORT\");\n\n        const list = this._element;\n        const mode = list.getAttribute(\n            Sa5Attribute.ATTR_SORT // \"wfu-sort\"\n            ) || \"default\";\n        const dir = list.getAttribute(\n            Sa5Attribute.ATTR_SORT_DIR // \"wfu-sort-dir\"\n            ) || \"asc\";\n        const sortType = list.getAttribute(\n            Sa5Attribute.ATTR_SORT_TYPE // \"wfu-sort-type\"\n            ) || \"string\";\n\n        const items = Array.from(list.children);\n\n        console.debug(`WFU sorting ${mode} ${sortType} ${dir} (${items.length} children)`);\n\n        console.debug({\n            name: \"WFU sorting\", \n            mode: mode, \n            sortType: sortType, \n            dir: dir, \n            children: `${items.length} children`\n        });\n\n//        console.debug(list.children); \n\n        // If Random sort, do it now \n        if(dir == \"random\") {\n\n            // Randomize\n            items.sort(() => Math.random() - 0.5); \n\n        } else {\n\n            items.sort((a: Element, b: Element) => {\n                const key1 = \n                    a.getAttribute(Sa5Attribute.ATTR_SORT_KEY) || // \"wfu-sort-key\"\n                        a.querySelector(Sa5Attribute.getBracketed(Sa5Attribute.ATTR_SORT_KEY))?.getAttribute(Sa5Attribute.ATTR_SORT_KEY) || ''; // \"[wfu-sort-key]\"\n                const key2 = \n                    b.getAttribute(Sa5Attribute.ATTR_SORT_KEY) ||\n                        b.querySelector(Sa5Attribute.getBracketed(Sa5Attribute.ATTR_SORT_KEY))?.getAttribute(Sa5Attribute.ATTR_SORT_KEY) || '';\n\n                // Determine asc sort result\n                let sortResult = 1;\n                switch (sortType) {\n                    case \"date\":\n                        sortResult = new Date(key1) < new Date(key2) ? -1 : 1;\n                        console.debug(`comparing dates ${key1} ${key2} = ${sortResult}`);\n                        break;\n                    case \"number\":\n                        sortResult = Number(key1) < Number(key2) ? -1 : 1;\n                        console.debug(`comparing numbers ${key1} ${key2} = ${sortResult}`);\n                        break;\n                    case \"semver\":\n                        // Semver comparison logic here\n                        break;\n                    case \"string\":\n                    default:\n\n                        sortResult = key1.localeCompare(key2);\n                        console.debug(`comparing strings ${key1} ${key2} = ${sortResult}`);\n                        break;\n                }\n\n                // Invert for desc\n                if (dir != \"asc\") {\n                    sortResult = sortResult * -1;\n                }\n\n                return sortResult;\n            });\n\n        }\n\n        // Write children back \n        while (list.firstChild) {\n            list.firstChild.remove();\n        }\n        items.forEach(item => list.appendChild(item));\n\n        // Remove attribute to display \n        list.removeAttribute(Sa5Attribute.ATTR_SORT); // \"wfu-sort\" \n\n        console.groupEnd();\n    }\n\n}\n\n\n\n\n\n\n//#region Sorting\n\n/* sortCollectionList\n * Sorts a Collection List\n * https://codepen.io/memetican/pen/oNygGLj/259b05cd6be71a16d2f4787e0714278f\n */\n\n\n/*\n\nexport var sortCollectionList = function (l) {\n\n    console.group(\"SORT\");\n\n    const $list = $(l);\n    const mode = $list.attr(\"wfu-sort\") || \"default\";\n    const dir = $list.attr(\"wfu-sort-dir\") || \"asc\";\n    const sortType = $list.attr(\"wfu-sort-type\") || \"string\";\n\n    var $items = $list.children();\n\n    console.debug(`WFU sorting ${mode} ${sortType} ${dir} (${$items.length} children)`);\n\n    console.debug({\n        name: \"WFU sorting\", \n        mode: mode, \n        sortType: sortType, \n        dir: dir, \n        children: `${$items.length} children`\n    });\n\n    console.debug('before.');\n\n    console.debug($list.children()); \n\n    // If Random sort, do it now \n    // uses jQuery extension, defined above\n    if(dir == \"random\") {\n\n        // Randomize\n        // updates element order directly, immediately\n        $list.children().shuffle();\n\n    } else {\n\n        $items.sort(function (a, b) {\n\n            const key1 = $(a).find(\"[wfu-sort-key]\").attr(\"wfu-sort-key\");\n            const key2 = $(b).find(\"[wfu-sort-key]\").attr(\"wfu-sort-key\");\n\n            // Determine asc sort result\n            var sortResult = 1;\n            switch (sortType) {\n                case \"date\":\n\n                    sortResult = new Date(key1) < new Date(key2) ? -1 : 1;\n                    console.debug(`comparing dates ${key1} ${key2} = ${sortResult}`);\n\n                    break;\n                case \"number\":\n\n                    sortResult = new Number(key1) < new Number(key2) ? -1 : 1;\n                    console.debug(`comparing numbers ${key1} ${key2} = ${sortResult}`);\n\n                    break;\n                case \"semver\":\n\n                    const semver1 = `${key1}.0.0.0`.split('.');\n                    const semver2 = `${key2}.0.0.0`.split('.');\n\n                    // https://semver.org/#spec-item-11\n\n                    // Precedence is determined by the first difference when comparing each \n                    // of these identifiers from left to right as follows: \n                    // Major, minor, and patch versions are always compared numerically.\n                    for (var p = 0; p < 4; p++) \n                        if (semver1[p] != semver2[p])\n                            break;\n\n                    // Numeric identifiers always have lower precedence than non-numeric identifiers.\n\n                    // Identifiers with letters or hyphens are compared lexically in ASCII sort order.\n\n                        // https://semver.org/#:~:text=Precedence%20for%20two%20pre%2Drelease%20versions%20with%20the%20same%20major%2C%20minor%2C%20and%20patch\n\n    //                console.log(`semver difference at part ${p}`);\n\n                    // Identifiers consisting of only digits are compared numerically.\n\n                    // Compare; if same, doesn't matter\n                    sortResult = new Number(semver1[p]) < new Number(semver2[p]) ? -1 : 1;\n                    console.debug(`comparing semvers ${key1} ${key2} = ${sortResult}`);\n\n                    break;\n                case \"string\":\n                default:\n\n                    sortResult = key1.localeCompare(key2);\n                    console.debug(`comparing strings ${key1} ${key2} = ${sortResult}`);\n\n                    break;\n            }\n\n            // Invert for desc\n            if (dir != \"asc\") {\n                sortResult = sortResult * -1;\n            }\n\n            return sortResult;\n        });\n\n        console.debug('writing.');\n        $list.html($items);\n\n    }\n\n    // Remove attribute to display \n    $list.removeAttr(\"wfu-sort\");\n\n    console.groupEnd();\n\n}\n\n*/ \n\n//#endregion\n"],
  "mappings": "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",
  "names": ["Sa5Attribute"]
}
