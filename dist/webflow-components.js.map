{
  "version": 3,
  "sources": ["../src/webflow-components.ts"],
  "sourcesContent": ["\n/**\n * SA5 COMPONENTS\n * Specialized utility classes for cupporting standard components with embedded code.\n * https://codepen.io/memetican/pen/WbQQmed/2554b21e7011f4861bc7d8dcc8d9f6ff\n * \n */\n\n\nexport class CoreComponent {\n    root: Element;\n  \n  constructor(scriptElement: HTMLScriptElement) {\n    this.root = scriptElement.parentElement!.parentElement!;\n  }\n\n  init() {\n    this.applyDynamicAttrs();\n//    this.cleanupDirectives(); \n  }\n\nprivate applyDynamicAttrs(): void {\n  const allElements = this.root.querySelectorAll('*');\n\n  for (const el of [this.root, ...allElements]) {\n    for (const attr of Array.from(el.attributes)) {\n      const name = attr.name;\n      const val = attr.value;\n\n      // Boolean attribute logic: x:*:bool-truthy\n      if (name.startsWith('x:') && name.endsWith(':bool-truthy')) {\n        const actualAttr = name.slice(2, -12);\n        if (this.isTruthy(val)) {\n          el.setAttribute(actualAttr, '');\n        } else {\n          el.removeAttribute(actualAttr);\n        }\n      }\n\n      // \"from\" attribute logic: x:*:from\n      if (name.startsWith('x:') && name.endsWith(':from')) {\n        const targetAttr = name.slice(2, -5); // removes 'x:' and ':from'\n\n        const match = val.match(/^([+-])\\[(.+)\\]$/);\n        if (!match) continue;\n\n        const direction = match[1]; // '+' or '-'\n        const sourceAttr = match[2];\n\n        let sibling: Element | null = null;\n        if (direction === '+') sibling = el.nextElementSibling;\n        if (direction === '-') sibling = el.previousElementSibling;\n        if (!sibling) continue;\n\n        const sourceValue = sibling.getAttribute(sourceAttr);\n        if (sourceValue !== null) {\n          el.setAttribute(targetAttr, sourceValue);\n        } else {\n          el.removeAttribute(targetAttr);\n        }\n        \n      }\n    }\n  }\n}\n\nprivate cleanupDirectives(): void {\n  const allElements = this.root.querySelectorAll('*');\n\n  for (const el of [this.root, ...allElements]) {\n    // Remove elements with cc-remove\n    if (el.hasAttribute('cc-remove')) {\n      el.remove();\n      continue; // skip further processing\n    }\n\n    // Unwrap elements with cc-unwrap\n    if (el.hasAttribute('cc-unwrap')) {\n      const parent = el.parentElement;\n      if (!parent) continue;\n\n      while (el.firstChild) {\n        parent.insertBefore(el.firstChild, el);\n      }\n\n      el.remove();\n    }\n  }\n}\n\n  private isTruthy(value: string | null): boolean {\n    if (!value) return false;\n    const v = value.trim().toLowerCase();\n    return !['', '0', 'no', 'off', 'false'].includes(v);\n  }\n}\n\n(window as any).CC = CoreComponent; "],
  "mappings": ";;AASO,MAAM,gBAAN,MAAoB;AAAA,IAGzB,YAAY,eAAkC;AAC5C,WAAK,OAAO,cAAc,cAAe;AAAA,IAC3C;AAAA,IAEA,OAAO;AACL,WAAK,kBAAkB;AAAA,IAEzB;AAAA,IAEM,oBAA0B;AAChC,YAAM,cAAc,KAAK,KAAK,iBAAiB,GAAG;AAElD,iBAAW,MAAM,CAAC,KAAK,MAAM,GAAG,WAAW,GAAG;AAC5C,mBAAW,QAAQ,MAAM,KAAK,GAAG,UAAU,GAAG;AAC5C,gBAAM,OAAO,KAAK;AAClB,gBAAM,MAAM,KAAK;AAGjB,cAAI,KAAK,WAAW,IAAI,KAAK,KAAK,SAAS,cAAc,GAAG;AAC1D,kBAAM,aAAa,KAAK,MAAM,GAAG,GAAG;AACpC,gBAAI,KAAK,SAAS,GAAG,GAAG;AACtB,iBAAG,aAAa,YAAY,EAAE;AAAA,YAChC,OAAO;AACL,iBAAG,gBAAgB,UAAU;AAAA,YAC/B;AAAA,UACF;AAGA,cAAI,KAAK,WAAW,IAAI,KAAK,KAAK,SAAS,OAAO,GAAG;AACnD,kBAAM,aAAa,KAAK,MAAM,GAAG,EAAE;AAEnC,kBAAM,QAAQ,IAAI,MAAM,kBAAkB;AAC1C,gBAAI,CAAC;AAAO;AAEZ,kBAAM,YAAY,MAAM;AACxB,kBAAM,aAAa,MAAM;AAEzB,gBAAI,UAA0B;AAC9B,gBAAI,cAAc;AAAK,wBAAU,GAAG;AACpC,gBAAI,cAAc;AAAK,wBAAU,GAAG;AACpC,gBAAI,CAAC;AAAS;AAEd,kBAAM,cAAc,QAAQ,aAAa,UAAU;AACnD,gBAAI,gBAAgB,MAAM;AACxB,iBAAG,aAAa,YAAY,WAAW;AAAA,YACzC,OAAO;AACL,iBAAG,gBAAgB,UAAU;AAAA,YAC/B;AAAA,UAEF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IAEQ,oBAA0B;AAChC,YAAM,cAAc,KAAK,KAAK,iBAAiB,GAAG;AAElD,iBAAW,MAAM,CAAC,KAAK,MAAM,GAAG,WAAW,GAAG;AAE5C,YAAI,GAAG,aAAa,WAAW,GAAG;AAChC,aAAG,OAAO;AACV;AAAA,QACF;AAGA,YAAI,GAAG,aAAa,WAAW,GAAG;AAChC,gBAAM,SAAS,GAAG;AAClB,cAAI,CAAC;AAAQ;AAEb,iBAAO,GAAG,YAAY;AACpB,mBAAO,aAAa,GAAG,YAAY,EAAE;AAAA,UACvC;AAEA,aAAG,OAAO;AAAA,QACZ;AAAA,MACF;AAAA,IACF;AAAA,IAEU,SAAS,OAA+B;AAC9C,UAAI,CAAC;AAAO,eAAO;AACnB,YAAM,IAAI,MAAM,KAAK,EAAE,YAAY;AACnC,aAAO,CAAC,CAAC,IAAI,KAAK,MAAM,OAAO,OAAO,EAAE,SAAS,CAAC;AAAA,IACpD;AAAA,EACF;AAEA,EAAC,OAAe,KAAK;",
  "names": []
}
